from Keysight import awg
from Keysight import smu
from Saleae import saleae_atd
import time
awg1 = awg.AWG("USB0::0x0957::0x5707::MY59004759::0::INSTR")
awg1.disableALL()
awg1.configureChannel(1,'SQU',0.0,0.4,250)
awg1.configureChannel(2,'SIN',0.0,0.04,10)
awg1.enableALL()
#awg1.setScreen(str(awg1.frequency))
smu1 = smu.SMU("USB0::0x2A8D::0x9501::MY61390158::0::INSTR")
smu1.disableALL()
smu1.setMode(0,'CURR')
smu1.configureChannel(0,'CURR', 0.000001, 0.9)
smu1.setMode(1,'VOLT')
smu1.configureChannel(1,'VOLT',0.65,0.0001)
smu1.enableALL()
exit()
#smu1.setScreen("SMU")
dev = saleae_atd.Saleae(devicePort=10430)
dev.open()
dev.configureLogic()
dev.setCaptureDuration(1)
dev.setupDigitalTriggerCaptureMode(channel=10)
time.sleep(1)
dev.capture()
time.sleep(1)
dev.saveCapture(r"C:\Users\eecis\Desktop\Arturo_Sem_Project\Python_Automation\est.sal")
dev.exportData(r"C:\Users\eecis\Desktop\Arturo_Sem_Project\Automation_git\BDC-Automation\Results")
dev.closeCapture()
dev.close()